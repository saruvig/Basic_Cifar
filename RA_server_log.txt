debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   ced7c35b5c4b03c369143674526cb3e3f3b260a05c27d49b72eb2280dd38a890
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x1316b000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:4dd4b4f063d70bf0940952010e07f4456fc5663b4c039edc44e5ab0ad9344d01
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:14e10ec6fef414147603342f2276bf074233e9af82646c181fb1ff7d57b1e1e9
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:8c02ff7ff6529d6df139941e938089e98b7dd03f14fc01c22ebd5c9f885d5ee7
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x131bb000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x1316ad80) = -38
[P1:T1:server] trace: ---- shim_uname(0x1316a970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130eb000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x13169fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1316a108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169fb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130e6000
[P1:T1:server] trace: ---- shim_mmap(0x130e7000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130e7000
[P1:T1:server] trace: ---- shim_mmap(0x130e8000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130e8000
[P1:T1:server] trace: ---- shim_mmap(0x130e9000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130e9000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x130e6000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1316a0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169f90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1306f000
[P1:T1:server] trace: ---- shim_mprotect(0x13081000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x13081000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13081000
[P1:T1:server] trace: ---- shim_mmap(0x130c2000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130c2000
[P1:T1:server] trace: ---- shim_mmap(0x130de000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130de000
[P1:T1:server] trace: ---- shim_mmap(0x130e2000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x130e2000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x1306f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1316a0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169f70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1303d000
[P1:T1:server] trace: ---- shim_mprotect(0x13044000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x13044000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13044000
[P1:T1:server] trace: ---- shim_mmap(0x13060000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13060000
[P1:T1:server] trace: ---- shim_mmap(0x1306c000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1306c000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x1303d000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1316a0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169f50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1301c000
[P1:T1:server] trace: ---- shim_mmap(0x13022000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13022000
[P1:T1:server] trace: ---- shim_mmap(0x1302b000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1302b000
[P1:T1:server] trace: ---- shim_mmap(0x1303b000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1303b000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x1301c000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1316a088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x13169ac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x13169a80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x13169a30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169f30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x13169b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e22000
[P1:T1:server] trace: ---- shim_mprotect(0x12e4e000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x12e4e000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e4e000
[P1:T1:server] trace: ---- shim_mmap(0x12fb8000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12fb8000
[P1:T1:server] trace: ---- shim_mmap(0x1300e000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1300e000
[P1:T1:server] trace: ---- shim_mmap(0x13014000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13014000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x12e22000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e20000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x12e211c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x12e21490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x12e214a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1300e000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1303b000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1306c000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x130de000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x130e9000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x13127000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1311e000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x1316ab00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x13169578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x13019178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x131bb000
[P1:T1:server] trace: ---- shim_brk(0x131dc000) = 0x131dc000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13169420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e1a000
[P1:T1:server] trace: ---- shim_mmap(0x12e1c000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e1c000
[P1:T1:server] trace: ---- shim_mmap(0x12e1d000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e1d000
[P1:T1:server] trace: ---- shim_mmap(0x12e1e000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12e1e000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x12e1a000
[P1:T1:server] trace: ---- shim_mprotect(0x12e1e000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x13169600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x13169570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x131bb8d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x13169070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x13169480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x131c5f30, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x131c64e0, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x131bb8d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x13169a30, 0x13169ad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x131695e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x131693e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x131be2f0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x131be2f0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x13019e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x131bb048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x13169698, 0x131697b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x131696c8, 0x131697b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x13169cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x131c5650, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x13169cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x131c5130, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x12e1a000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x131bb8d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x15c1e000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:41b604a0ae51a76a932f89599ae09e43bc47d03199f38548fe931e36322cb641
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:2d51f24a30cc5fb8c9c071c70cef87ae2c6161798d779ba2110556fb0109bdc1
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:c8aeacef6f145ec8e27635477e11f485d4c8f13a78ed99f581aaf06f81ad1959
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x16b17000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x15c1dd80) = -38
[P1:T1:server] trace: ---- shim_uname(0x15c1d970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b9e000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x15c1cfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1d108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1cfb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b99000
[P1:T1:server] trace: ---- shim_mmap(0x15b9a000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b9a000
[P1:T1:server] trace: ---- shim_mmap(0x15b9b000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b9b000
[P1:T1:server] trace: ---- shim_mmap(0x15b9c000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b9c000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x15b99000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1d0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1cf90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b22000
[P1:T1:server] trace: ---- shim_mprotect(0x15b34000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x15b34000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b34000
[P1:T1:server] trace: ---- shim_mmap(0x15b75000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b75000
[P1:T1:server] trace: ---- shim_mmap(0x15b91000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b91000
[P1:T1:server] trace: ---- shim_mmap(0x15b95000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b95000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x15b22000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1d0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1cf70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15af0000
[P1:T1:server] trace: ---- shim_mprotect(0x15af7000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x15af7000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15af7000
[P1:T1:server] trace: ---- shim_mmap(0x15b13000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b13000
[P1:T1:server] trace: ---- shim_mmap(0x15b1f000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15b1f000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x15af0000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1d0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1cf50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15acf000
[P1:T1:server] trace: ---- shim_mmap(0x15ad5000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15ad5000
[P1:T1:server] trace: ---- shim_mmap(0x15ade000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15ade000
[P1:T1:server] trace: ---- shim_mmap(0x15aee000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15aee000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x15acf000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1d088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x15c1cac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x15c1ca80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x15c1ca30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1cf30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x15c1cb80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158d5000
[P1:T1:server] trace: ---- shim_mprotect(0x15901000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x15901000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15901000
[P1:T1:server] trace: ---- shim_mmap(0x15a6b000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15a6b000
[P1:T1:server] trace: ---- shim_mmap(0x15ac1000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15ac1000
[P1:T1:server] trace: ---- shim_mmap(0x15ac7000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15ac7000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x158d5000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158d3000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x158d41c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x158d4490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x158d44a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15ac1000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15aee000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15b1f000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15b91000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15b9c000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15bda000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x15bd1000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x15c1db00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15c1c578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x15acc178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x16b17000
[P1:T1:server] trace: ---- shim_brk(0x16b38000) = 0x16b38000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1c420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158cd000
[P1:T1:server] trace: ---- shim_mmap(0x158cf000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158cf000
[P1:T1:server] trace: ---- shim_mmap(0x158d0000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158d0000
[P1:T1:server] trace: ---- shim_mmap(0x158d1000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x158d1000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x158cd000
[P1:T1:server] trace: ---- shim_mprotect(0x158d1000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x15c1c600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x15c1c570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x16b178d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x15c1c070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x15c1c480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x16b220c0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x16b22670, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x16b178d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x15c1ca30, 0x15c1cad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1c5e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x15c1c3e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x16b1afe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x16b1afe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x15acce64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x16b17048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x15c1c698, 0x15c1c7b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x15c1c6c8, 0x15c1c7b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x15c1ccd4, 4) = 0x0
[P1:T1:server] trace: ---- shim_bind(3, 0x16b21170, 28) = 0x0
[P1:T1:server] trace: ---- shim_listen(3, 10) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x16b178d0, 0x2e) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2e
[P1:T1:server] trace: ---- shim_getrandom(0x15c1c9a0, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_write(1, 0x16b178d0, 0x23) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x23
[P1:T1:server] trace: ---- shim_write(1, 0x16b178d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_getsockopt(3, 1, 3, 0x15c1cbf0, 0x15c1cbf8) = 0x0
[P1:T1:server] trace: ---- shim_accept(3, 0x15c1cc00, 0x15c1cbf4) ...
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x191cd000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:bbb8bcb4af4d5b034cfcc5de79fd3bbb2d5d55ad2237a8ec77dfa93d00d2de3f
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:1056b567ee14092a1f0e79a8830a7bd689350107ba1f7c6067fa0b28f6f2bbec
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:d2798a227dde180285394c4266591213bdb5e7e14c5761c552246a90279df008
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x19ecf000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x191ccd80) = -38
[P1:T1:server] trace: ---- shim_uname(0x191cc970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1914d000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x191cbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cc108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cbfb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19148000
[P1:T1:server] trace: ---- shim_mmap(0x19149000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19149000
[P1:T1:server] trace: ---- shim_mmap(0x1914a000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1914a000
[P1:T1:server] trace: ---- shim_mmap(0x1914b000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1914b000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x19148000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cc0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cbf90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x190d1000
[P1:T1:server] trace: ---- shim_mprotect(0x190e3000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x190e3000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x190e3000
[P1:T1:server] trace: ---- shim_mmap(0x19124000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19124000
[P1:T1:server] trace: ---- shim_mmap(0x19140000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19140000
[P1:T1:server] trace: ---- shim_mmap(0x19144000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19144000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x190d1000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cc0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cbf70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1909f000
[P1:T1:server] trace: ---- shim_mprotect(0x190a6000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x190a6000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x190a6000
[P1:T1:server] trace: ---- shim_mmap(0x190c2000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x190c2000
[P1:T1:server] trace: ---- shim_mmap(0x190ce000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x190ce000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x1909f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cc0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cbf50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1907e000
[P1:T1:server] trace: ---- shim_mmap(0x19084000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19084000
[P1:T1:server] trace: ---- shim_mmap(0x1908d000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1908d000
[P1:T1:server] trace: ---- shim_mmap(0x1909d000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1909d000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x1907e000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cc088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x191cbac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x191cba80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x191cba30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cbf30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x191cbb80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e84000
[P1:T1:server] trace: ---- shim_mprotect(0x18eb0000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x18eb0000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18eb0000
[P1:T1:server] trace: ---- shim_mmap(0x1901a000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1901a000
[P1:T1:server] trace: ---- shim_mmap(0x19070000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19070000
[P1:T1:server] trace: ---- shim_mmap(0x19076000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19076000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x18e84000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e82000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x18e831c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x18e83490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x18e834a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19070000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1909d000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x190ce000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19140000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1914b000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19189000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19180000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x191ccb00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x191cb578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x1907b178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x19ecf000
[P1:T1:server] trace: ---- shim_brk(0x19ef0000) = 0x19ef0000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cb420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e7c000
[P1:T1:server] trace: ---- shim_mmap(0x18e7e000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e7e000
[P1:T1:server] trace: ---- shim_mmap(0x18e7f000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e7f000
[P1:T1:server] trace: ---- shim_mmap(0x18e80000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18e80000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x18e7c000
[P1:T1:server] trace: ---- shim_mprotect(0x18e80000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x191cb600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x191cb570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x19ecf8d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x191cb070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x191cb480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x19ed9fc0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x19eda570, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x19ecf8d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x191cba30, 0x191cbad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cb5e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x191cb3e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x19ed2fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x19ed2fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x1907be64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x19ecf048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x191cb698, 0x191cb7b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x191cb6c8, 0x191cb7b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x191cbcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x19ed6c70, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x191cbcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x19ed6c20, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x18e7c000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x19ecf8d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x19305000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:ab7846bdc1f6b74b31d438ff2bfc18dede9cd2e0297d1b9948aa509d46e2e37a
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:1afb8a296725528db4206a5243bca099f6e746505345eccfb598b5333df2b7df
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:31f012224e89cc4be38d0ee2aae88dccdf99aca93fad873154d55101a8ee93b3
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x1a9d0000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x19304d80) = -38
[P1:T1:server] trace: ---- shim_uname(0x19304970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19285000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x19303fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x19304108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303fb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19280000
[P1:T1:server] trace: ---- shim_mmap(0x19281000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19281000
[P1:T1:server] trace: ---- shim_mmap(0x19282000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19282000
[P1:T1:server] trace: ---- shim_mmap(0x19283000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19283000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x19280000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x193040e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303f90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19209000
[P1:T1:server] trace: ---- shim_mprotect(0x1921b000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1921b000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1921b000
[P1:T1:server] trace: ---- shim_mmap(0x1925c000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1925c000
[P1:T1:server] trace: ---- shim_mmap(0x19278000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19278000
[P1:T1:server] trace: ---- shim_mmap(0x1927c000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1927c000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x19209000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x193040c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303f70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191d7000
[P1:T1:server] trace: ---- shim_mprotect(0x191de000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x191de000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191de000
[P1:T1:server] trace: ---- shim_mmap(0x191fa000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191fa000
[P1:T1:server] trace: ---- shim_mmap(0x19206000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19206000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x191d7000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x193040a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303f50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191b6000
[P1:T1:server] trace: ---- shim_mmap(0x191bc000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191bc000
[P1:T1:server] trace: ---- shim_mmap(0x191c5000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191c5000
[P1:T1:server] trace: ---- shim_mmap(0x191d5000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191d5000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x191b6000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x19304088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x19303ac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x19303a80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x19303a30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303f30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x19303b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fbc000
[P1:T1:server] trace: ---- shim_mprotect(0x18fe8000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x18fe8000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fe8000
[P1:T1:server] trace: ---- shim_mmap(0x19152000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x19152000
[P1:T1:server] trace: ---- shim_mmap(0x191a8000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191a8000
[P1:T1:server] trace: ---- shim_mmap(0x191ae000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x191ae000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x18fbc000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fba000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x18fbb1c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x18fbb490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x18fbb4a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x191a8000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x191d5000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19206000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19278000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x19283000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x192c1000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x192b8000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x19304b00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x19303578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x191b3178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x1a9d0000
[P1:T1:server] trace: ---- shim_brk(0x1a9f1000) = 0x1a9f1000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x19303420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fb4000
[P1:T1:server] trace: ---- shim_mmap(0x18fb6000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fb6000
[P1:T1:server] trace: ---- shim_mmap(0x18fb7000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fb7000
[P1:T1:server] trace: ---- shim_mmap(0x18fb8000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x18fb8000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x18fb4000
[P1:T1:server] trace: ---- shim_mprotect(0x18fb8000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x19303600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x19303570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x1a9d08d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x19303070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x19303480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1a9db220, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x1a9db7d0, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x1a9d08d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x19303a30, 0x19303ad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x193035e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x193033e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x1a9d3fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x1a9d3fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x191b3e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x1a9d0048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x19303698, 0x193037b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x193036c8, 0x193037b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x19303cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1a9dbe20, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x19303cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1a9da1c0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x18fb4000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x1a9d08d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x14ecd000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:3decf84d5fae61abe7b02cacbeb7ef600ced672a9820b4290a2482eff99c11b0
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:39e2b50fc4fb0f5cd35704d9c4769a39d6d7356e6b0fbd9d90bb24005595d847
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:c99fe91291b19f0500910189e27824b6f21fe7a9fec5a53e9bad82f7a348f44f
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x15f36000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x14eccd80) = -38
[P1:T1:server] trace: ---- shim_uname(0x14ecc970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e4d000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x14ecbfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecc108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecbfb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e48000
[P1:T1:server] trace: ---- shim_mmap(0x14e49000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e49000
[P1:T1:server] trace: ---- shim_mmap(0x14e4a000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e4a000
[P1:T1:server] trace: ---- shim_mmap(0x14e4b000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e4b000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x14e48000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecc0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecbf90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14dd1000
[P1:T1:server] trace: ---- shim_mprotect(0x14de3000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x14de3000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14de3000
[P1:T1:server] trace: ---- shim_mmap(0x14e24000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e24000
[P1:T1:server] trace: ---- shim_mmap(0x14e40000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e40000
[P1:T1:server] trace: ---- shim_mmap(0x14e44000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14e44000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x14dd1000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecc0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecbf70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d9f000
[P1:T1:server] trace: ---- shim_mprotect(0x14da6000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x14da6000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14da6000
[P1:T1:server] trace: ---- shim_mmap(0x14dc2000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14dc2000
[P1:T1:server] trace: ---- shim_mmap(0x14dce000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14dce000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x14d9f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecc0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecbf50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d7e000
[P1:T1:server] trace: ---- shim_mmap(0x14d84000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d84000
[P1:T1:server] trace: ---- shim_mmap(0x14d8d000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d8d000
[P1:T1:server] trace: ---- shim_mmap(0x14d9d000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d9d000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x14d7e000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecc088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x14ecbac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x14ecba80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x14ecba30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecbf30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x14ecbb80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b84000
[P1:T1:server] trace: ---- shim_mprotect(0x14bb0000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x14bb0000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14bb0000
[P1:T1:server] trace: ---- shim_mmap(0x14d1a000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d1a000
[P1:T1:server] trace: ---- shim_mmap(0x14d70000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d70000
[P1:T1:server] trace: ---- shim_mmap(0x14d76000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14d76000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x14b84000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b82000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x14b831c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x14b83490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x14b834a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14d70000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14d9d000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14dce000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14e40000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14e4b000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14e89000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x14e80000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x14eccb00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x14ecb578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x14d7b178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x15f36000
[P1:T1:server] trace: ---- shim_brk(0x15f57000) = 0x15f57000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecb420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b7c000
[P1:T1:server] trace: ---- shim_mmap(0x14b7e000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b7e000
[P1:T1:server] trace: ---- shim_mmap(0x14b7f000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b7f000
[P1:T1:server] trace: ---- shim_mmap(0x14b80000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x14b80000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x14b7c000
[P1:T1:server] trace: ---- shim_mprotect(0x14b80000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x14ecb600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x14ecb570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x15f368d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x14ecb070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x14ecb480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x15f40f00, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x15f414b0, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x15f368d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x14ecba30, 0x14ecbad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecb5e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x14ecb3e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x15f39fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x15f39fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x14d7be64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x15f36048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x14ecb698, 0x14ecb7b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x14ecb6c8, 0x14ecb7b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x14ecbcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x15f40f30, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x14ecbcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x15f408f0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x14b7c000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x15f368d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x1abb0000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:73de94bfc250ec941bf81b170d0d9a450ace59402e1a5c29ad681c7243c2ad02
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:de6238108e56ae70b52919ccd189791afc83cc81e4a3e3d32afc9cab3dee07c6
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:078475f293deedaebb4e160bdac22f98b0ffe88ec7ab4f960d64cd19ceb39cc6
[P1:shim] debug: IPC worker started
[P1:T1:server] debug: Shim process initialized
[P1:T1:server] trace: ---- shim_brk(0) = 0x1b87a000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x1abafd80) = -38
[P1:T1:server] trace: ---- shim_uname(0x1abaf970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab30000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x1abaefb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abaf108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abaefb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab2b000
[P1:T1:server] trace: ---- shim_mmap(0x1ab2c000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab2c000
[P1:T1:server] trace: ---- shim_mmap(0x1ab2d000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab2d000
[P1:T1:server] trace: ---- shim_mmap(0x1ab2e000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab2e000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x1ab2b000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abaf0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abaef90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aab4000
[P1:T1:server] trace: ---- shim_mprotect(0x1aac6000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1aac6000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aac6000
[P1:T1:server] trace: ---- shim_mmap(0x1ab07000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab07000
[P1:T1:server] trace: ---- shim_mmap(0x1ab23000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab23000
[P1:T1:server] trace: ---- shim_mmap(0x1ab27000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ab27000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x1aab4000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abaf0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abaef70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa82000
[P1:T1:server] trace: ---- shim_mprotect(0x1aa89000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1aa89000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa89000
[P1:T1:server] trace: ---- shim_mmap(0x1aaa5000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aaa5000
[P1:T1:server] trace: ---- shim_mmap(0x1aab1000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aab1000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x1aa82000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abaf0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abaef50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa61000
[P1:T1:server] trace: ---- shim_mmap(0x1aa67000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa67000
[P1:T1:server] trace: ---- shim_mmap(0x1aa70000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa70000
[P1:T1:server] trace: ---- shim_mmap(0x1aa80000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa80000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x1aa61000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abaf088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x1abaeac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x1abaea80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x1abaea30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abaef30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x1abaeb80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a867000
[P1:T1:server] trace: ---- shim_mprotect(0x1a893000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1a893000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a893000
[P1:T1:server] trace: ---- shim_mmap(0x1a9fd000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a9fd000
[P1:T1:server] trace: ---- shim_mmap(0x1aa53000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa53000
[P1:T1:server] trace: ---- shim_mmap(0x1aa59000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aa59000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x1a867000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a865000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x1a8661c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x1a866490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x1a8664a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aa53000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aa80000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aab1000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ab23000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ab2e000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ab6c000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ab63000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x1abafb00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1abae578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x1aa5e178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x1b87a000
[P1:T1:server] trace: ---- shim_brk(0x1b89b000) = 0x1b89b000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abae420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a85f000
[P1:T1:server] trace: ---- shim_mmap(0x1a861000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a861000
[P1:T1:server] trace: ---- shim_mmap(0x1a862000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a862000
[P1:T1:server] trace: ---- shim_mmap(0x1a863000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1a863000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x1a85f000
[P1:T1:server] trace: ---- shim_mprotect(0x1a863000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x1abae600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x1abae570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x1b87a8d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x1abae070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x1abae480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1b884f10, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x1b8854c0, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x1b87a8d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x1abaea30, 0x1abaead0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abae5e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1abae3e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x1b87dfe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x1b87dfe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x1aa5ee64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x1b87a048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1abae698, 0x1abae7b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1abae6c8, 0x1abae7b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1abaecd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1b883240, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1abaecd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1b884ba0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x1a85f000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x1b87a8d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x1af33000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:e4459ca26ecb5872651594be409e514f12942ec52e11d8da63d169b13efd4acc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:15d8bd7dabb86e4cc573ae78e189e8ecccd0865b0bb3a94fca27bc24caf00a77
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:ccff7dd1e22e2f2c32b4a9d7484263140afd065b65a4b507f958d89889fb9807
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x1b1ba000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x1af32d80) = -38
[P1:T1:server] trace: ---- shim_uname(0x1af32970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeb3000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x1af31fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af32108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31fb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeae000
[P1:T1:server] trace: ---- shim_mmap(0x1aeaf000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeaf000
[P1:T1:server] trace: ---- shim_mmap(0x1aeb0000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeb0000
[P1:T1:server] trace: ---- shim_mmap(0x1aeb1000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeb1000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x1aeae000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af320e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31f90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae37000
[P1:T1:server] trace: ---- shim_mprotect(0x1ae49000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1ae49000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae49000
[P1:T1:server] trace: ---- shim_mmap(0x1ae8a000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae8a000
[P1:T1:server] trace: ---- shim_mmap(0x1aea6000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aea6000
[P1:T1:server] trace: ---- shim_mmap(0x1aeaa000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1aeaa000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x1ae37000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af320c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31f70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae05000
[P1:T1:server] trace: ---- shim_mprotect(0x1ae0c000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1ae0c000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae0c000
[P1:T1:server] trace: ---- shim_mmap(0x1ae28000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae28000
[P1:T1:server] trace: ---- shim_mmap(0x1ae34000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae34000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x1ae05000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af320a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31f50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ade4000
[P1:T1:server] trace: ---- shim_mmap(0x1adea000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1adea000
[P1:T1:server] trace: ---- shim_mmap(0x1adf3000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1adf3000
[P1:T1:server] trace: ---- shim_mmap(0x1ae03000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ae03000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x1ade4000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af32088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x1af31ac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x1af31a80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x1af31a30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31f30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x1af31b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abea000
[P1:T1:server] trace: ---- shim_mprotect(0x1ac16000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1ac16000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ac16000
[P1:T1:server] trace: ---- shim_mmap(0x1ad80000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1ad80000
[P1:T1:server] trace: ---- shim_mmap(0x1add6000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1add6000
[P1:T1:server] trace: ---- shim_mmap(0x1addc000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1addc000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x1abea000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abe8000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x1abe91c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x1abe9490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x1abe94a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1add6000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ae03000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1ae34000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aea6000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aeb1000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aeef000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1aee6000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x1af32b00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1af31578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x1ade1178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x1b1ba000
[P1:T1:server] trace: ---- shim_brk(0x1b1db000) = 0x1b1db000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af31420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abe2000
[P1:T1:server] trace: ---- shim_mmap(0x1abe4000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abe4000
[P1:T1:server] trace: ---- shim_mmap(0x1abe5000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abe5000
[P1:T1:server] trace: ---- shim_mmap(0x1abe6000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1abe6000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x1abe2000
[P1:T1:server] trace: ---- shim_mprotect(0x1abe6000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x1af31600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x1af31570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x1b1ba8d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x1af31070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x1af31480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1b1c4fc0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x1b1c5570, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x1b1ba8d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x1af31a30, 0x1af31ad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af315e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1af313e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x1b1bdfe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x1b1bdfe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x1ade1e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x1b1ba048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1af31698, 0x1af317b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1af316c8, 0x1af317b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1af31cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1b1c5030, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1af31cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x1b1c41b0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x1abe2000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x1b1ba8d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x13814000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:2417443cec4ce1ad7cc73bc4d3401501f8f6f9c760f3428f2d2103d4f9aea8e1
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:c6d0ac95d4452a3647093e3c3a47e425533340fcc380eca2054908fe693e178c
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:76481a5414fc6731f7befb367ad4401c117aa774017dc9659ceca422d3cba1c6
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x1549c000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x13813d80) = -38
[P1:T1:server] trace: ---- shim_uname(0x13813970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13794000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x13812fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x13813108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812fb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1378f000
[P1:T1:server] trace: ---- shim_mmap(0x13790000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13790000
[P1:T1:server] trace: ---- shim_mmap(0x13791000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13791000
[P1:T1:server] trace: ---- shim_mmap(0x13792000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13792000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x1378f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x138130e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812f90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13718000
[P1:T1:server] trace: ---- shim_mprotect(0x1372a000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1372a000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1372a000
[P1:T1:server] trace: ---- shim_mmap(0x1376b000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1376b000
[P1:T1:server] trace: ---- shim_mmap(0x13787000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13787000
[P1:T1:server] trace: ---- shim_mmap(0x1378b000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1378b000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x13718000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x138130c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812f70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136e6000
[P1:T1:server] trace: ---- shim_mprotect(0x136ed000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x136ed000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136ed000
[P1:T1:server] trace: ---- shim_mmap(0x13709000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13709000
[P1:T1:server] trace: ---- shim_mmap(0x13715000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13715000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x136e6000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x138130a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812f50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136c5000
[P1:T1:server] trace: ---- shim_mmap(0x136cb000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136cb000
[P1:T1:server] trace: ---- shim_mmap(0x136d4000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136d4000
[P1:T1:server] trace: ---- shim_mmap(0x136e4000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136e4000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x136c5000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x13813088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x13812ac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x13812a80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x13812a30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812f30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x13812b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134cb000
[P1:T1:server] trace: ---- shim_mprotect(0x134f7000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x134f7000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134f7000
[P1:T1:server] trace: ---- shim_mmap(0x13661000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x13661000
[P1:T1:server] trace: ---- shim_mmap(0x136b7000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136b7000
[P1:T1:server] trace: ---- shim_mmap(0x136bd000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x136bd000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x134cb000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134c9000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x134ca1c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x134ca490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x134ca4a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x136b7000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x136e4000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x13715000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x13787000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x13792000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x137d0000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x137c7000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x13813b00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x13812578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x136c2178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x1549c000
[P1:T1:server] trace: ---- shim_brk(0x154bd000) = 0x154bd000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x13812420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134c3000
[P1:T1:server] trace: ---- shim_mmap(0x134c5000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134c5000
[P1:T1:server] trace: ---- shim_mmap(0x134c6000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134c6000
[P1:T1:server] trace: ---- shim_mmap(0x134c7000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x134c7000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x134c3000
[P1:T1:server] trace: ---- shim_mprotect(0x134c7000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x13812600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x13812570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x1549c8d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x13812070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x13812480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x154a6ff0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x154a75a0, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x1549c8d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x13812a30, 0x13812ad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x138125e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x138123e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x1549ffe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x1549ffe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x136c2e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x1549c048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x13812698, 0x138127b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x138126c8, 0x138127b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x13812cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x154a8530, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x13812cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x154a5bd0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x134c3000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x1549c8d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x12c5b000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:f4513e92b1f292bc919879ae65b9e5c47e86e841d6d8c8285de166b282339e24
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:74c9d855f1fc9fbd6da8a3a3a3e20309f8acfe204f31db022781986b5121561b
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:bd36f668865e75c888cf1440a276eb4303fe6567d261af89a87d6f40991abb6c
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x13a66000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x12c5ad80) = -38
[P1:T1:server] trace: ---- shim_uname(0x12c5a970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bdb000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x12c59fb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c5a108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59fb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bd6000
[P1:T1:server] trace: ---- shim_mmap(0x12bd7000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bd7000
[P1:T1:server] trace: ---- shim_mmap(0x12bd8000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bd8000
[P1:T1:server] trace: ---- shim_mmap(0x12bd9000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bd9000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x12bd6000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c5a0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59f90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b5f000
[P1:T1:server] trace: ---- shim_mprotect(0x12b71000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x12b71000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b71000
[P1:T1:server] trace: ---- shim_mmap(0x12bb2000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bb2000
[P1:T1:server] trace: ---- shim_mmap(0x12bce000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bce000
[P1:T1:server] trace: ---- shim_mmap(0x12bd2000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12bd2000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x12b5f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c5a0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59f70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b2d000
[P1:T1:server] trace: ---- shim_mprotect(0x12b34000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x12b34000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b34000
[P1:T1:server] trace: ---- shim_mmap(0x12b50000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b50000
[P1:T1:server] trace: ---- shim_mmap(0x12b5c000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b5c000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x12b2d000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c5a0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59f50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b0c000
[P1:T1:server] trace: ---- shim_mmap(0x12b12000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b12000
[P1:T1:server] trace: ---- shim_mmap(0x12b1b000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b1b000
[P1:T1:server] trace: ---- shim_mmap(0x12b2b000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b2b000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x12b0c000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c5a088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x12c59ac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x12c59a80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x12c59a30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59f30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x12c59b80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12912000
[P1:T1:server] trace: ---- shim_mprotect(0x1293e000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x1293e000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1293e000
[P1:T1:server] trace: ---- shim_mmap(0x12aa8000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12aa8000
[P1:T1:server] trace: ---- shim_mmap(0x12afe000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12afe000
[P1:T1:server] trace: ---- shim_mmap(0x12b04000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12b04000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x12912000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x12910000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x129111c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x12911490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x129114a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12afe000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12b2b000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12b5c000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12bce000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12bd9000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12c17000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x12c0e000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x12c5ab00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x12c59578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x12b09178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x13a66000
[P1:T1:server] trace: ---- shim_brk(0x13a87000) = 0x13a87000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c59420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1290a000
[P1:T1:server] trace: ---- shim_mmap(0x1290c000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1290c000
[P1:T1:server] trace: ---- shim_mmap(0x1290d000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1290d000
[P1:T1:server] trace: ---- shim_mmap(0x1290e000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1290e000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x1290a000
[P1:T1:server] trace: ---- shim_mprotect(0x1290e000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x12c59600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x12c59570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x13a668d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x12c59070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x12c59480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x13a71160, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x13a71710, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x13a668d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x12c59a30, 0x12c59ad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c595e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x12c593e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x13a69fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x13a69fe0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x12b09e64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x13a66048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x12c59698, 0x12c597b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x12c596c8, 0x12c597b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x12c59cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x13a70c50, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x12c59cd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x13a700e0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x1290a000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x13a668d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
debug: Token file: ./server.token
debug: Read dummy DCAP token
debug: enclave created:
debug:     base:           0x0000000010000000
debug:     size:           0x0000000010000000
debug:     misc_select:    0x00000000
debug:     attr.flags:     0x0000000000000007
debug:     attr.xfrm:      0x00000000000000e7
debug:     ssa_frame_size: 4
debug:     isv_prod_id:    0x00000000
debug:     isv_svn:        0x00000000
debug: adding pages to enclave: 0x1ff33000-0x20000000 [REG:R--] (manifest) measured
debug: adding pages to enclave: 0x1ff13000-0x1ff33000 [REG:RW-] (ssa) measured
debug: adding pages to enclave: 0x1ff0f000-0x1ff13000 [TCS:---] (tcs) measured
debug: adding pages to enclave: 0x1ff0b000-0x1ff0f000 [REG:RW-] (tls) measured
debug: adding pages to enclave: 0x1fecb000-0x1ff0b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe8b000-0x1fecb000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe4b000-0x1fe8b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fe0b000-0x1fe4b000 [REG:RW-] (stack) measured
debug: adding pages to enclave: 0x1fdfb000-0x1fe0b000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdeb000-0x1fdfb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fddb000-0x1fdeb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1fdcb000-0x1fddb000 [REG:RW-] (sig_stack) measured
debug: adding pages to enclave: 0x1f9a6000-0x1f9f3000 [REG:R-X] (code) measured
debug: adding pages to enclave: 0x1f9f3000-0x1f9f7000 [REG:RW-] (data) measured
debug: adding pages to enclave: 0x1f9f7000-0x1fdcb000 [REG:RW-] (bss) measured
debug: adding pages to enclave: 0x10000000-0x1f9a6000 [REG:RWX] (free)
debug: enclave initializing:
debug:     enclave id:   0x000000001ffff000
debug:     mr_enclave:   4e3f6a264cffdb78bb6e6586f3213090c6b798a7d667822642bb94394c1e11ba
debug: Using SGX DCAP/ECDSA attestation
warning: DkVirtualMemoryProtect is unimplemented in Linux-SGX PAL
[::] debug: Gramine was built from commit: e929b4d3124b6d37157e49823a5baaa0109c0c45
[::] debug: Host: Linux-SGX
[::] debug: LibOS xsave_enabled 1, xsave_size 0xa80(2688), xsave_features 0xe7
[::] debug: Initial VMA region 0x1f333000-0x1f3af000 (LibOS) bookkeeped
[::] debug: Initial VMA region 0x1ff33000-0x20000000 (manifest) bookkeeped
[::] debug: ASLR top address adjusted to 0x1626d000
[::] debug: Shim loaded at 0x1f333000, ready to initialize
[::] debug: Mounting root as chroot filesystem: from file:. to /
[::] debug: Mounting special proc filesystem: /proc
[::] debug: Mounting special dev filesystem: /dev
[::] debug: Mounting terminal device /dev/tty under /dev
[::] debug: Creating pipe: pipe.srv:a13cbd880f5d18823811f4c07b44ed108f5453cbf7be7ec45c667cc8881218ae
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc to /lib
[P1:T1:] debug: Mounting as chroot filesystem: from file:/etc to /etc
[P1:T1:] debug: Mounting as chroot filesystem: from file:/lib/x86_64-linux-gnu to /lib/x86_64-linux-gnu
[P1:T1:] debug: Mounting as chroot filesystem: from file:/usr/lib/x86_64-linux-gnu to /usr/lib/x86_64-linux-gnu
[P1:T1:server] debug: Creating pipe: pipe.srv:621e6967f1cac01e8353d8937d87fd43c0c808592f6b06f0263c89d566d20dc9
[P1:T1:server] debug: Allocating stack at 0 (size = 262144)
[P1:T1:server] debug: loading "file:./server"
[P1:T1:server] debug: find_interp: searching for interpreter: /lib/ld-linux-x86-64.so.2
[P1:T1:server] debug: loading "file:/usr/local/lib/x86_64-linux-gnu/gramine/runtime/glibc/ld-linux-x86-64.so.2"
[P1:T1:server] debug: Creating pipe: pipe.srv:1
[P1:T1:server] debug: Creating pipe: pipe.srv:fb9c0c5a0df5f17aec6b2b37594cb6cae8ac881a116494c304364b1b0514fdfa
[P1:T1:server] debug: Shim process initialized
[P1:shim] debug: IPC worker started
[P1:T1:server] trace: ---- shim_brk(0) = 0x17e49000
[P1:T1:server] warning: Not supported flag (0x3001) passed to arch_prctl
[P1:T1:server] trace: ---- shim_arch_prctl(12289, 0x1626cd80) = -38
[P1:T1:server] trace: ---- shim_uname(0x1626c970) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161ed000
[P1:T1:server] trace: ---- shim_access("/etc/ld.so.preload", F_OK|R_OK) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v4", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v3", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/glibc-hwcaps/x86-64-v2", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/haswell", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/tls", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/haswell", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/usr/local/lib/x86_64-linux-gnu", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v4", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v3", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/glibc-hwcaps/x86-64-v2", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/haswell", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/tls/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/tls", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/haswell/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/haswell", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/avx512_1/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/avx512_1", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/x86_64/libdl.so.2", O_RDONLY|0x80000, 0000) = -2
[P1:T1:server] trace: ---- shim_newfstatat(AT_FDCWD, "/lib/x86_64", 0x1626bfb0, 0) = -2
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libdl.so.2", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626c108, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626bfb0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x4028, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161e8000
[P1:T1:server] trace: ---- shim_mmap(0x161e9000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161e9000
[P1:T1:server] trace: ---- shim_mmap(0x161ea000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161ea000
[P1:T1:server] trace: ---- shim_mmap(0x161eb000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161eb000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libdl.so.2 loaded at 0x161e8000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedcrypto_gramine.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626c0e8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626bf90, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x76080, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16171000
[P1:T1:server] trace: ---- shim_mprotect(0x16183000, 0x5d000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x16183000, 0x41000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16183000
[P1:T1:server] trace: ---- shim_mmap(0x161c4000, 0x1b000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x53000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161c4000
[P1:T1:server] trace: ---- shim_mmap(0x161e0000, 0x4000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161e0000
[P1:T1:server] trace: ---- shim_mmap(0x161e4000, 0x3080, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x161e4000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedcrypto_gramine.so.6 loaded at 0x16171000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedtls_gramine.so.13", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626c0c8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626bf70, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x319f0, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1613f000
[P1:T1:server] trace: ---- shim_mprotect(0x16146000, 0x28000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x16146000, 0x1c000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x7000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16146000
[P1:T1:server] trace: ---- shim_mmap(0x16162000, 0xb000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x23000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16162000
[P1:T1:server] trace: ---- shim_mmap(0x1616e000, 0x3000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1616e000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedtls_gramine.so.13 loaded at 0x1613f000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libmbedx509_gramine.so.1", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626c0a8, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626bf50, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x20470, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1611e000
[P1:T1:server] trace: ---- shim_mmap(0x16124000, 0x9000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16124000
[P1:T1:server] trace: ---- shim_mmap(0x1612d000, 0x10000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0xf000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1612d000
[P1:T1:server] trace: ---- shim_mmap(0x1613d000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x1613d000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libmbedx509_gramine.so.1 loaded at 0x1611e000
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libc.so.6", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626c088, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_pread64(3, 0x1626bac0, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_pread64(3, 0x1626ba80, 0x30, 0x350) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x30
[P1:T1:server] trace: ---- shim_pread64(3, 0x1626ba30, 0x44, 0x380) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x44
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626bf30, 4096) = 0x0
[P1:T1:server] trace: ---- shim_pread64(3, 0x1626bb80, 0x310, 0x40) ...
[P1:T1:server] trace: ---- return from shim_pread64(...) = 0x310
[P1:T1:server] trace: ---- shim_mmap(0, 0x1f9a50, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f24000
[P1:T1:server] trace: ---- shim_mprotect(0x15f50000, 0x1c0000, PROT_NONE) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0x15f50000, 0x16a000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2c000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f50000
[P1:T1:server] trace: ---- shim_mmap(0x160ba000, 0x55000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x196000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x160ba000
[P1:T1:server] trace: ---- shim_mmap(0x16110000, 0x6000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1eb000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16110000
[P1:T1:server] trace: ---- shim_mmap(0x16116000, 0x7a50, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_FIXED, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x16116000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libc.so.6 loaded at 0x15f24000
[P1:T1:server] trace: ---- shim_mmap(0, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f22000
[P1:T1:server] trace: ---- shim_arch_prctl(4098, 0x15f231c0) = 0x0
[P1:T1:server] trace: ---- shim_set_tid_address(0x15f23490) = 0x1
[P1:T1:server] trace: ---- shim_set_robust_list(0x15f234a0, 0x18) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x16110000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1613d000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x1616e000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x161e0000, 0x3000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x161eb000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x16229000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_mprotect(0x16220000, 0x2000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_prlimit64(0, 3, 0, 0x1626cb00) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/lib/libra_tls_attest.so", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x1626b578, 0x340) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x340
[P1:T1:server] trace: ---- shim_getrandom(0x1611b178, 0x8, GRND_NONBLOCK) = 0x8
[P1:T1:server] trace: ---- shim_brk(0) = 0x17e49000
[P1:T1:server] trace: ---- shim_brk(0x17e6a000) = 0x17e6a000
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626b420, 4096) = 0x0
[P1:T1:server] trace: ---- shim_mmap(0, 0x5188, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0x0) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f1c000
[P1:T1:server] trace: ---- shim_mmap(0x15f1e000, 0x1000, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f1e000
[P1:T1:server] trace: ---- shim_mmap(0x15f1f000, 0x1000, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f1f000
[P1:T1:server] trace: ---- shim_mmap(0x15f20000, 0x2000, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x3000) ...
[P1:T1:server] trace: ---- return from shim_mmap(...) = 0x15f20000
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] debug: glibc register library /lib/libra_tls_attest.so loaded at 0x15f1c000
[P1:T1:server] trace: ---- shim_mprotect(0x15f20000, 0x1000, PROT_READ) ...
[P1:T1:server] trace: ---- return from shim_mprotect(...) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(1, "", 0x1626b600, 4096) = 0x0
[P1:T1:server] trace: ---- shim_ioctl(1, TCGETS, 0x1626b570) ...
[P1:T1:server] trace: ---- return from shim_ioctl(...) = -38
[P1:T1:server] trace: ---- shim_write(1, 0x17e498d0, 0x2f) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2f
[P1:T1:server] trace: ---- shim_getrandom(0x1626b070, 0x80, 0) = 0x80
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/user_report_data", O_WRONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_write(3, 0x1626b480, 0x40) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x40
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/dev/attestation/quote", O_RDONLY, 0000) = 0x3
[P1:T1:server] trace: ---- shim_read(3, 0x17e540b0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x5b0
[P1:T1:server] trace: ---- shim_read(3, 0x17e54660, 0x1a50) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_write(1, 0x17e498d0, 0x2b) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x2b
[P1:T1:server] trace: ---- shim_rt_sigaction([SIGPIPE], 0x1626ba30, 0x1626bad0, 0x8) = 0x0
[P1:T1:server] trace: ---- shim_openat(AT_FDCWD, "/etc/gai.conf", O_RDONLY|0x80000, 0000) = 0x3
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626b5e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_newfstatat(3, "", 0x1626b3e0, 4096) = 0x0
[P1:T1:server] trace: ---- shim_read(3, 0x17e4cff0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0xa18
[P1:T1:server] trace: ---- shim_read(3, 0x17e4cff0, 0x2000) ...
[P1:T1:server] trace: ---- return from shim_read(...) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_futex(0x1611be64, FUTEX_PRIVATE|FUTEX_WAKE, 2147483647, 0, 0x17e49048, 7) ...
[P1:T1:server] trace: ---- return from shim_futex(...) = 0x0
[P1:T1:server] warning: shim_socket: unknown socket domain 16
[P1:T1:server] trace: ---- shim_socket(NETLINK, SOCK_CLOEXEC|RAW, 0) = -38
[P1:T1:server] trace: ---- shim_socket(INET6, SOCK_CLOEXEC|DGRAM, 0) = 0x3
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=[0:0:0:0:0:0:0:0],port=htons(4433)}, 28) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1626b698, 0x1626b7b0) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, UNKNOWN, 16) ...
[P1:T1:server] debug: shim_connect: reconnect on a stream socket
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_connect(3, {family=INET,ip=0.0.0.0,port=htons(4433)}, 16) ...
[P1:T1:server] trace: ---- return from shim_connect(...) = 0x0
[P1:T1:server] trace: ---- shim_getsockname(3, 0x1626b6c8, 0x1626b7b0) = 0x0
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET6, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1626bcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x17e53580, 28) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_socket(INET, STREAM, 6) = 0x3
[P1:T1:server] trace: ---- shim_setsockopt(3, 1, 2, 0x1626bcd4, 4) = 0x0
[P1:T1:server] error: bind: invalid handle returned
[P1:T1:server] trace: ---- shim_bind(3, 0x17e50bf0, 16) = -98
[P1:T1:server] trace: ---- shim_close(3) = 0x0
[P1:T1:server] trace: ---- shim_munmap(0x15f1c000, 0x5188) ...
[P1:T1:server] trace: ---- return from shim_munmap(...) = 0x0
[P1:T1:server] trace: ---- shim_shutdown(3, 2) = -9
[P1:T1:server] trace: ---- shim_close(3) = -9
[P1:T1:server] trace: ---- shim_write(1, 0x17e498d0, 0x65) ...
[P1:T1:server] trace: ---- return from shim_write(...) = 0x65
[P1:T1:server] debug: ---- shim_exit_group (returning 186)
[P1:T1:server] debug: clearing POSIX locks for pid 1
[P1:T1:server] debug: sync client shutdown: closing handles
[P1:T1:server] debug: sync client shutdown: waiting for confirmation
[P1:T1:server] debug: sync client shutdown: finished
[P1:shim] debug: IPC worker: exiting worker thread
[P1:T1:server] debug: process 1 exited with status 186
debug: DkProcessExit: Returning exit code 186
